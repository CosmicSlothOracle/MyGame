Character-Specific Summary Tables
Fritz
Attack	Triggers	Phases (physics)	Key Values	FX/Other
r1	Ground r1Down	start (double tap window 0.2 s) → loop (tick timer tied to animation length) → release	Loop tick damage via descriptor; release damage set to 5; movement unaffected except by movement slowdown when charging (not for Fritz R1)	Uses Renderer.getR1Hitbox; each loop tick calls AttackSystem. No unique FX.
r1_dash_attack	Double-tap within timer	active	Velocity moveSpeed * 4; friction 0.7 on completion	Hitbox getR1DashHitbox in detectHits.
r1_up_attack	l3UpR1Down	active	No special values; just animation & cleanup	Hitbox getR1UpAttackHitbox.
r1_circle_attack	r1CircleDown	active	Velocity moveSpeed * 3, zero vertical	Hitbox getR1CircleHitbox.
r1_jump	Air r1Down	active, ends when anim finished or grounded	Velocity horizontal moveSpeed * 2.7; resets vel on land	Hit detection via AttackSystem.
r1_combo_active	After charged R1 release	comboStep 1→2→3; handles grabbed target on step 3	Step 3 final damage 10, knockback formula K = 110*(1+P/100)^0.8*3.4, angle 45°, spawns FX & blood	Movement: step3 sets velocity to dash distance/time.
r2	Ground r2Down	start → loop (charge) → release	ChargeT up to 2.0; damage tiers 4/7/12/18; dash speeds base 1600 * (1.1/1.2/1.3). wasMaxCharge toggles to allow combo. Spawn FX r2_fx_*.	Loop toggles r2_loop_max anim, p.chargeFx. Release spawns effect via descriptor.
r2_combo	Max charge release + r2Down near end frames	start → (no other phases)	On anim finish, if no hit, spawns sword projectile and sets p.swordIsOut; else no notes	Hit detection logic still unresolved (physics).
r2_hit_followup	Trigger when recalling sword with grabbed target	active	No special numbers	spawns r2_combo_final effect via descriptor, uses spawnEffect.
l1_smash	l1Down	start → charge (≤2 s) → release (max vs normal)	Charge >90% sets isMaxCharge; no damage set in physics (AttackSystem handles).	Charge FX fx_charge_*.
l1_jab / l1_jab_combo	l1Down after jab / combos	start (queue window frame ≥2) → combos steps	Movement 60%/70% move speed mini-dash; combos use getL1JabHitbox.	None special.
l2	l2Down	Entirely in AttackSystem.handleFritzL2; physics only delegates & handles movement slowdown when charging	See AttackSystem: DoT ticks every 0.15s using left/right hitboxes; release loops; final hit 15 dmg random 90±15° knockback, includes FX.	Charge FX, spawn fx_charged_hit, uses AttackSystem for damage.
r2_l2_ulti	ultiDown, ult ready	handleFritzUlti states: start (spawns ulti_check projectile) → check (target search) → dash (moves to target) → slam (maybe?) → ulti_anim (apply immediate damage/knockback, set delay) → end	Knockback: immediate via AttackSystem descriptor; additional delayed knockback 4500 after 0.5s (setTimeout) with effect blast.	FX: spawnEffect(state, target, "blast"), uses applyUltiKnockback.
HP
Attack	Triggers	Phases	Key Values	Notes
r1	Same as Fritz	start loop release	Additional p.attack.loopTime used for movement slowdown (inputs axis). Release frames 4-6 add velocity moveSpeed*2.	Loop tick uses Renderer.getR1Hitbox.
r1_dash_attack	double tap	active	same as Fritz	
l1_ranged_grab	l1Down	cast → pull → (combo)	cast: frame5 spawn detect effect (character effect), uses Renderer.getL1RangedGrabHitbox. On hit: p.attack.grabbedTarget, p.attack.phase='pull', sets target isGrabbed. pull: parabolic motion over 0.6s, ensures safe distance, sets p.attack.savedTarget.	Pull uses recorded start pos, pullHeight, safeDistance.
l1_ranged_grab_combo	After successful pull	phase active	Frame6: adds 8 dmg, uses descriptor hp:l1_ranged_grab_combo for knockback (base 250, angle80, exponent 1.3). On finish releases target. Maintains target.isGrabbed while active.	Spawns blood FX.
l2_ranged	l2Down	start/charge/release	Charge up to 2s; release spawns l2_projectile at frame1; release resets.	Uses projectile logic (parabolic).
l2 (melee)	Not defined (HP uses projectile).			
Ultimate	handleHPUltimate (p.ultiPhase start/active/jump/end)	Many state machine steps (bike)	Stats in logic (duration 10s, invincible).	Attack interactions not tied to L1/L2.
Cyboard (Charly same as HP for many attacks)
Attack	Phases	Key Values
r1 (default)	start (if inputs.r1Held set to loop) / loop (charge) / release	ChargeT ≤2.0, p.chargeFx, release engages combos; p.attack.damage set by charge tier; loops may queue combos.
r1_combo_active	Steps 1 & 2 queue, Step3 dash with DASH_DISTANCE=193, p.vel.x computed	On miss, hunts? (drag logic not present).
r2	similar to Fritz; p.attack.wasMaxCharge toggles; combos spawn sword	On release, spawn FX, set velocities; loops to r2_combo.
r2_combo	On max charge release follow-up	On anim finish, if hitConfirmed false, spawnProjectile r2_projectile, p.swordIsOut=true.
r2_hit_followup	When sword recall triggered with grabbed target	Plays effect r2_combo_final.
l1 (bomb)	start/charge; release spawns default bomb projectile; charge FX thresholds at 0.3/0.7/1.2	spawnProjectile uses charge to scale velocity.
l2_smash	start (initialize), charge (chargeTime ≤1s), impact (damage region)	Impact uses Renderer.getL2SmashHitbox, scales width/height by chargeMultiplier (1.2 * multiplier). Damage: base6 * multiplier capped 2.5; knockback 250multiplier; exponent 0.85. | Animations: l2_smash_charge, l2_smash_charge_loop, l2_impact_low/high. | | Ultimate | handleCyboardUltimate (p.ultiPhase start→scan→finish) | Teleport, reverse anim on target, final finish applies 30% damage & knockback (handled manually). |#### Charly Uses HP attack data via descriptors; no unique physics-specific logic (shares HP path). Only difference is attack-catalog descriptors.### Projectiles & DoT (updateProjectiles – summary) - Handles cyboard_sword states: rising -> hanging (allow recall/ slam) -> returning. On slam, apply damage to grabbed target using descriptor r2_hit_followup (?), spawn FX. - Bombs/mushrooms: move with velocity, collision detection: upon hitting ground or players, use AttackCatalog.getDescriptor to apply damage via AttackSystem. Mushrooms may have splash area (not yet encoded). - Maintains proj.prevPos, lastDamageFrame for DoT. - Works with state.projectiles array.### Movement Slowdown & Non-interruptible States - Movement logic reduces p.vel.x during charge phases: Fritz L2 (charge), HP R1 loop, Fritz R2 loop. In new system, these should move into movement config. - isAttackInterruptible forbids interrupts for l2, r2, r2_l2_ulti, l1_ranged_grab, r1_dash_attack, r1_jump, r1_up_attack, r1_circle_attack.### Rhythm & FX Hooks - Beat detection in handleAttacks sets p.attack.wasOnBeat, used in AttackSystem applyDamageWithDescriptor for rhythm bonus (applied using checkRhythmBonus, spawnRhythmEffect). - Particles triggered on combos, DoT, final hits (blood, smoke, beatmatch). Attack data should encode FX references.### Summary of Plan Alignment - All L1/L2/R1/R2 states still largely managed in physics.js; only Fritz L2 is handled in AttackSystem with some data reliance. - Hit detection uses renderer hitboxes + manual overrides — must shift to descriptor-driven module. - Projectiles and Ultimates remain in physics. - AttackCatalog/CharacterCatalog currently lack fields for many constants (combo damage, charge thresholds, FX IDs, projectile parameters, timers). With this audit complete, we can proceed to Phase 2 (data authoring) per the plan.